<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Monitor System</title>
</head>

<body>
    <h1>Monitor System</h1>
    <hr />
    <div id="events">
    </div>

    <script src="http://localhost:3003/socket.io/socket.io.js"></script>
    <script>
        const eventDiv = document.getElementById("events");
        const resultDiv = document.getElementById("res");
        var socket = io("ws://localhost:3003/monitor", {
            transports: ['websocket', 'polling', 'flashsocket'],
        });

        socket.on("connect", function () {
            console.log("Websocket connection established!");
            socket.on("disconnect", function () {
                console.log("Websocket disconnected!");
            });
        });

        socket.on("connect_error", (error) => {
            console.log(error);
        });

        socket.on("log", function (msg) {
            var el = document.createElement("div");
            el.innerHTML = "<pre>" + msg + "</pre>";
            eventDiv.appendChild(el);
        });

        window.socket = socket;
    </script>
</body>

</html>